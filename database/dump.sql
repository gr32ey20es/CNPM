-- Adminer 4.8.1 PostgreSQL 16.0 (Debian 16.0-1.pgdg120+1) dump

DROP TABLE IF EXISTS "account";
CREATE TABLE "public"."account" (
    "email" character varying(255),
    "password" character varying(30),
    "role" character varying(30)
) WITH (oids = false);

INSERT INTO "account" ("email", "password", "role") VALUES
('kim@gmail.com',	'kim',	'leader'),
('culi@gmail.com',	'culi',	'culi');

CREATE TABLE HOKHAU (
    MAHO BIGSERIAL PRIMARY KEY,
    DIACHI CHAR(100) NOT NULL
    chuho BIGSERIAL references NHANKHAU(cccd)

);
CREATE TABLE NHANKHAU(
    CCCD BIGINT NOT NULL PRIMARY KEY,
    TEN VARCHAR(255),
    NGAYSINH DATE NOT NULL,
    SDT INT NOT NULL


);
CREATE TABLE KHOANTHU (
MAKT BIGINT NOT NULL PRIMARY KEY,
TENKT VARCHAR(255) NOT NULL,
LOAI VARCHAR(255) NOT NULL
);

CREATE TABLE NOP_TIEN (
CCCD BIGINT NOT NULL REFERENCES NHANKHAU(CCCD),
MAKT BIGINT NOT NULL REFERENCES KHOANTHU(MAKT),
PRIMARY KEY(CCCD,MKT),
SOTIEN INT NOT NULL,
NGAYNOP DATE NOT NULL);
--BANG NHAN KHAU HO KHAU
CREATE TABLE HK_NK(
MAHO BIGINT REFERENCES HOKHAU(MAHO),
CCCD BIGINT REFERENCES NHANKHAU(CCCD));
INSERT INTO NHANKHAU(CCCD,TEN,NGAYSINH,SDT) VALUES
(027203008302,'MARIA','2003-12-6','0220370202'),
(027203008200,'MARIA','2003-12-6','0220370202'),
(027203008201,'JOHN','1990-05-15','0220370203'),
(027203008202,'EMMA','1985-08-27','0220370204'),
(027203008203,'MICHAEL','1972-02-10','0220370205'),
(027203008204,'SOPHIA','1998-09-03','0220370206'),
(027203008205,'DANIEL','1983-04-22','0220370207'),
(027203008206,'OLIVIA','2000-11-18','0220370208'),
(027203008207,'WILLIAM','1978-07-14','0220370209'),
(027203008208,'AVA','1995-01-30','0220370210'),
(027203008209,'ALEXANDER','1989-06-25','0220370211');

INSERT INTO HOKHAU(DIACHI,CHUHO)VALUES('LONG BIEN', 027203008200),
('HANOI OPERA HOUSE', 027203008201),
('ANGKOR WAT', 027203008202),
('STATUE OF LIBERTY', 027203008203),
('MACHU PICCHU', 027203008204),
('EIFFEL TOWER', 027203008205),
('GREAT WALL OF CHINA', 027203008206),
('TAJ MAHAL', 027203008207),
('SYDNEY OPERA HOUSE', 027203008208),
('GẦM CẦU', 027203008209);
INSERT INTO HK_NK VALUES (9, 027203008200),
(10, 027203008201),
(11, 027203008202),
(12, 027203008203),
(13, 027203008204),
(14, 027203008205),
(15, 027203008206),
(16, 027203008207),
(17, 027203008208),
(18, 027203008209);
insert into khoanthu(makt,tenkt,loai)values(1,'nuoc','batbuoc');
insert into nop_tien (cccd,makt,sotien,ngaynop)values(027203008208,1,10000,'2020-2-6');
insert into khoanthu(makt,tenkt,loai)values
(2, 'Điện', 'Không Bắt Buộc'),
(3, 'Internet', 'Bắt Buộc'),
(4, 'Gas', 'Không Bắt Buộc'),
(5, 'Thuê Nhà', 'Bắt Buộc'),
(6, 'Phí Quản Lý', 'Không Bắt Buộc'),
(7, 'Dịch Vụ TV', 'Bắt Buộc'),
(8, 'Phí Bảo Hiểm', 'Không Bắt Buộc'),
(9, 'Nước Nóng', 'Không Bắt Buộc'),
(10, 'Phí Gửi Xe', 'Bắt Buộc'),
(11, 'Ủng Hộ Quỹ Người Nghèo', 'Không Bắt Buộc'),
(12, 'Ủng Hộ Quỹ Vùng Sâu, Vùng Xa', 'Không Bắt Buộc');
insert into nhankhau(cccd,ten,ngaysinh,sdt)values ('27203008', 'Đào Văn Nguyên', '2004-12-2', '111144433'),
('272030082', 'Nguyễn Thị Mai', '1990-5-15', '111155544'),
('27203008220', 'Trần Văn An', '1985-8-21', '111166655'),
('27203008221', 'Phạm Thị Lan', '1998-3-7', '111177766'),
('27203008222', 'Lê Văn Hùng', '1979-10-12', '111188877'),
('27203008223', 'Nguyễn Thị Hà', '1995-6-30', '111199988'),
('27203008224', 'Vũ Đình Tân', '1982-2-18', '111210099'),
('27203008225', 'Hoàng Minh Anh', '2000-9-5', '111221100'),
('272030082026', 'Lý Thị Thu', '1988-12-25', '111232211'),
('27203008227', 'Trương Quang Huy', '1993-7-11', '111243322'),
('27203008228', 'Ngô Thị Thảo', '1977-4-3', '111254433'),
('27203008229', 'Đinh Quang Linh', '1989-11-19', '111265544'),
('27203008230', 'Lưu Văn Bình', '1996-8-8', '111276655'),
('27203008231', 'Đặng Mai Trang', '1984-1-28', '111287766'),
('27203008232', 'Phan Văn Cường', '1991-6-14', '111298877'),
('27203008233', 'Bùi Thị Ngọc', '1976-3-22', '111309988'),
('27203008234', 'Mai Văn Tú', '1997-12-9', '111311099'),
('27203008235', 'Hoàng Thu Hà', '1983-4-17', '111322210'),
('27203008236', 'Nguyễn Văn Nam', '2002-2-3', '111333321'),
('27203008237', 'Trần Thị Phương', '1994-9-20', '111344432');
insert into nop_tien(cccd,makt,sotien,ngaynop) values ('27204004706', '1', 10000, '2020-02-02'),
('2720400476', '2', 10000, '2020-02-02'),
('27203008302', '3', 10000, '2020-02-02'),
('27203008200', '4', 10000, '2020-02-02'),
('27203008201', '5', 10000, '2020-02-02'),
('27203008202', '6', 10000, '2020-02-02'),
('27203008203', '7', 10000, '2020-02-02'),
('27203008204', '8', 10000, '2020-02-02'),
('27203008205', '9', 10000, '2020-02-02'),
('27203008206', '10', 10000, '2020-02-02');
update khoanthu
set tenkt = 'Nước'
where tenkt like 'nuoc';
-- 2023-10-27 00:35:58.774794+00